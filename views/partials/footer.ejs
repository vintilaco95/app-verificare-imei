<%
  const tFn = (typeof t === 'function')
    ? t
    : (typeof locals !== 'undefined' && typeof locals.t === 'function'
      ? locals.t
      : (key) => key);
  const currentLangValue = typeof currentLang !== 'undefined'
    ? currentLang
    : (typeof locals !== 'undefined' && typeof locals.currentLang !== 'undefined'
      ? locals.currentLang
      : 'ro');
  const currentLangLabelValue = typeof currentLangLabel !== 'undefined'
    ? currentLangLabel
    : (typeof locals !== 'undefined' && typeof locals.currentLangLabel !== 'undefined'
      ? locals.currentLangLabel
      : currentLangValue);
  const switchLangValue = typeof switchLang !== 'undefined'
    ? switchLang
    : (typeof locals !== 'undefined' && typeof locals.switchLang !== 'undefined'
      ? locals.switchLang
      : (currentLangValue === 'ro' ? 'en' : 'ro'));
  const switchLangLabelValue = typeof switchLangLabel !== 'undefined'
    ? switchLangLabel
    : (typeof locals !== 'undefined' && typeof locals.switchLangLabel !== 'undefined'
      ? locals.switchLangLabel
      : currentLangLabelValue);
  const brandName = tFn('nav.brand');
  const footerTagline = tFn('footer.brand.tagline');
  const footerRights = tFn('footer.bottom.rights');
  const footerYear = new Date().getFullYear();
  const copyrightHtml = tFn('footer.bottom.copyright')
    .replace('{year}', footerYear)
    .replace('{brand}', brandName)
    .replace('{rights}', footerRights);
  const cookiesLinkHtml = `<a href="/legal/cookies">${tFn('footer.links.cookies')}</a>`;
  const cookieDescriptionHtml = tFn('footer.cookie.description').replace('{cookiesLink}', cookiesLinkHtml);
%>
<footer class="footer">
  <div class="footer-container">
    <div class="footer-brand">
      <a href="/" class="footer-logo">
        <span class="footer-logo-icon">
          <span class="logo-emoji" aria-hidden="true">üê∂</span>
        </span>
        <span class="footer-logo-text"><%= brandName %></span>
      </a>
      <p class="footer-description">
        <%= footerTagline %>
      </p>
    </div>

    <div class="footer-columns">
      <div class="footer-column">
        <h4 class="footer-title"><%= tFn('footer.columns.legal.title') %></h4>
        <ul class="footer-links">
          <li><a href="/legal/terms"><%= tFn('footer.links.terms') %></a></li>
          <li><a href="/legal/privacy"><%= tFn('footer.links.privacy') %></a></li>
          <li><a href="/legal/gdpr"><%= tFn('footer.links.gdpr') %></a></li>
          <li><a href="/legal/cookies"><%= tFn('footer.links.cookies') %></a></li>
        </ul>
      </div>
      <div class="footer-column">
        <h4 class="footer-title"><%= tFn('footer.columns.resources.title') %></h4>
        <ul class="footer-links">
          <li><a href="/faq"><%= tFn('footer.links.faq') %></a></li>
          <li><a href="/dashboard/credits/topup"><%= tFn('footer.links.topup') %></a></li>
          <li><a href="/verify/imei"><%= tFn('footer.links.verify') %></a></li>
          <li><a href="/"><%= tFn('footer.links.pricing') %></a></li>
        </ul>
      </div>
      <div class="footer-column">
        <h4 class="footer-title"><%= tFn('footer.columns.contact.title') %></h4>
        <ul class="footer-links">
          <li><a href="mailto:telefoane@zengsm.ro"><%= tFn('footer.contact.email') %></a></li>
          <li><a href="tel:+40700000000"><%= tFn('footer.contact.phone') %></a></li>
          <li><a href="mailto:telefoane@zengsm.ro?subject=Suport%20clien»õi"><%= tFn('footer.contact.support') %></a></li>
          <li><a href="mailto:telefoane@zengsm.ro?subject=Raportare%20problemƒÉ"><%= tFn('footer.contact.report') %></a></li>
        </ul>
      </div>
    </div>
  </div>
  <div class="footer-bottom">
    <span><%- copyrightHtml %></span>
    <div class="footer-badges">
      <span class="footer-badge"><%= tFn('footer.badges.stripe') %></span>
      <span class="footer-badge"><%= tFn('footer.badges.gdpr') %></span>
    </div>
  </div>
</footer>

</main>

<div class="cookie-banner" id="cookie-banner" role="dialog" aria-live="polite" aria-label="<%= tFn('footer.cookie.aria') %>">
  <div class="cookie-banner-content">
    <div class="cookie-text">
      <h3><%= tFn('footer.cookie.title') %></h3>
      <p>
        <%- cookieDescriptionHtml %>
      </p>
    </div>
    <div class="cookie-actions">
      <button type="button" class="btn btn-secondary" id="cookie-settings"><%= tFn('footer.cookie.cta.settings') %></button>
      <button type="button" class="btn btn-primary" id="cookie-accept"><%= tFn('footer.cookie.cta.accept') %></button>
    </div>
  </div>
</div>

<script src="/js/main.js"></script>
</body>
</html>
